<!DOCTYPE html>
<html >
    <head lang="en">
        <meta charset="utf-8">
        <title>Trancode Job Status</title>  
        <link rel="stylesheet" type="text/css" href="../css/ng-grid.css" />
        <link rel="stylesheet" type="text/css" href="../css/jquery-ui.css" />
        <link rel="stylesheet" type="text/css" href="../css/style.css" />
        <script type="text/javascript" src="../js/google/ajax/jquery/2.1.3/jquery.min.js"></script>
        <script type="text/javascript" src="../js/google/angularjs/1.3.14/angular.min.js"></script>
        <script type="text/javascript" src="../js/ng-grid/ng-grid.debug.js"></script>
        <script type="text/javascript" src="../js/controller/admin/configureBatchNodeController.js"></script>
    </head>
    <body ng-app="userAdminApp.user.getAllUsers" ng-controller="getAllUsersController">
        <div class="gridStyle_batchNodes" ng-grid="gridOptions"></div>
    </body>
</html>


<!DOCTYPE html>
<html >
    <head lang="en">
        <meta charset="utf-8">
        <title>Register User </title>
        <script src="../js/google/angularjs/1.3.14/angular.min.js"></script>
        <script type="text/javascript" src="../js/controller/admin/configureBatchNodeController.js"></script>
    </head>
    <body ng-app="userAdminApp.user.addNewUser" ng-controller="registerUserController">
	    <form ng-submit="registerUser(userVO)">
	        <h1> Register User  </h1>
	        <input type="text" placeholder="User Name" ng-model="userVO.nodeName">
	        <input type="role" placeholder="Role " ng-model="userVO.role">
	        <input type="submit" value="Register">
	     </form>
    </body>
</html>


var app = angular.module('userAdminApp.user', []);

app.controller('registerUserController',function($scope, $http) {
					$scope.registerUser = function(userVO) {
						var req = {
							method : 'POST',
							url : 'http://localhost:8080/batch_node/add_new_batch_node',
							headers : {
								'Content-Type' : 'application/json',
								'Accept' : 'application/json'
							},
							data : userVO
						}

						$http(req).success(function(data, status) {
							
						}).error();
		}
	   });


app.controller('getAllUsersController', function($scope, $http) {
			var gridData;
			$http.get('http://localhost:8080/user/get_all_users')
			.success(function(data, status) {
					console.log(status);
					gridData = data.batchNodeDetails;
					$scope.trList = gridData;
				});
		    
		    $scope.gridOptions = { 
		      data: 'trList',
		      resizable:true
		    };
});
	
